# devenv.nix
{ pkgs, ... }:

{
  name = "lms42-dev-shell";

  packages = with pkgs; [
    python312Full
    python312Packages.gevent
    poetry
    python312Packages.pip
    nodejs
    nodePackages.npm
    postgresql_14
    glibcLocales
    gcc
  ];

  env = {
    LANG = "C";
    LC_ALL = "C";
    LOCALE_ARCHIVE = "${pkgs.glibcLocales}/lib/locale/locale-archive";
  };

  enterShell = ''
    echo ""
    echo -e "\033[1;32mâœ” Development shell activated successfully\033[0m"
    echo "ðŸ“¦ Python version: $(python3 --version)"
    echo "ðŸ“¦ Pip version:    $(pip --version | cut -d ' ' -f2)"
    echo "ðŸ“¦ Poetry version: $(poetry --version)"
    echo "ðŸ“¦ Node.js version: $(node --version)"
    echo "ðŸ“¦ npm version:     $(npm --version)"
    echo ""
  '';
}
